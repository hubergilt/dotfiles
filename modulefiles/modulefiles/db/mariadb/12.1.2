#%Module1.0#####################################################################
##
## mariadb modulefile
##
proc ModulesHelp { } {
        global version prefix

        puts stderr "\tmariadb - loads the MariaDB Server environment"
        puts stderr "\n\tThis adds MariaDB tools to your PATH"
        puts stderr "\n\tVersion $version\n"
}

module-whatis	"loads the MariaDB Server 12.1.2 environment"

# for Tcl script use only
set version     12.1.2
set prefix      /opt/mariadb/$version
set socket      /var/run/mariadb/mariadb-$version.sock

# Paths
prepend-path  PATH            $prefix/bin
prepend-path  LD_LIBRARY_PATH $prefix/lib

# Environment variables for shell functions / scripts
setenv MARIADB_HOME   $prefix
setenv MARIADB_SOCKET $socket

# Create aliases for easy management using systemd
set-alias     mariadb-start   "sudo systemctl start mariadb-12.1.2"
set-alias     mariadb-stop    "sudo systemctl stop mariadb-12.1.2"
set-alias     mariadb-restart "sudo systemctl restart mariadb-12.1.2"
set-alias     mariadb-status  "sudo systemctl status mariadb-12.1.2"
set-alias     mariadb-enable  "sudo systemctl enable mariadb-12.1.2"
set-alias     mariadb-disable "sudo systemctl disable mariadb-12.1.2"
set-alias     mariadb-logs    "sudo journalctl -u mariadb-12.1.2 -f"

# enable module versioning modulepath
#module use {~/modulefiles/mariadb/$version}
