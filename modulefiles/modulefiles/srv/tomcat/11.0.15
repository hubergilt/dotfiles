#%Module1.0#####################################################################
##
## tomcat modulefile
##
proc ModulesHelp { } {
        global version prefix

        puts stderr "\ttomcat - loads the Apache Tomcat environment"
        puts stderr "\n\tThis adds $prefix/* to several of the"
        puts stderr "\tenvironment variables."
        puts stderr "\n\tVersion $version\n"
}

module-whatis	"loads the Apache Tomcat 11.0.15 environment"

# for Tcl script use only
set	version		11.0.15
set	prefix		/opt/tomcat/$version

# Tomcat requires Java
if { ![is-loaded java] } {
    module load java/25.0.1
}

setenv        CATALINA_HOME $prefix
setenv        TOMCAT_HOME   $prefix
prepend-path  PATH          $prefix/bin

# Create aliases for easy management
set-alias     tomcat-start  "$prefix/bin/startup.sh"
set-alias     tomcat-stop   "$prefix/bin/shutdown.sh"
set-alias     tomcat-logs   "tail -f $prefix/logs/catalina.out"

# enable module versioning modulepath
#module use {~/modulefiles/tomcat/$version}
